@model MentalHealth.Models.MentalHealthPrediction

<div class="container mt-4">
    <div class="card">
        <div class="card-header bg-primary text-white">
            <h3 class="mb-0">نتایج تشخیص</h3>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-6">
                    <h4>تشخیص اصلی</h4>
                    <p class="h5 text-primary">@Model.Diagnosis</p>

                    <h4 class="mt-4">سطح اطمینان</h4>
                    <div class="progress">
                        <div class="progress-bar" role="progressbar"
                             style="width: @(Model.Probability * 100)%"
                             aria-valuenow="@(Model.Probability * 100)"
                             aria-valuemin="0"
                             aria-valuemax="100">
                            @(Math.Round(Model.Probability * 100, 1))%
                        </div>
                    </div>
                </div>

                <div class="col-md-6">
                    <h4>توصیه‌ها</h4>
                    <ul class="list-group">
                        @foreach (var recommendation in Model.Recommendations ?? new List<string>())
                        {
                            <li class="list-group-item">@recommendation</li>
                        }
                    </ul>
                </div>
            </div>

            <div class="mt-4">
                <h4>تحلیل علائم</h4>
                <div class="row">
                    @foreach (var symptom in Model.SymptomContributions)
                    {
                        <div class="col-md-6 mb-3">
                            <label>@symptom.Key</label>
                            <div class="progress">
                                <div class="progress-bar" role="progressbar"
                                     style="width: @(symptom.Value * 100)%"
                                     aria-valuenow="@(symptom.Value * 100)"
                                     aria-valuemin="0"
                                     aria-valuemax="100">
                                    @(Math.Round(symptom.Value * 100, 0))%
                                </div>
                            </div>
                        </div>
                    }
                </div>
            </div>

            <div class="mt-4">
                <a asp-action="Index" class="btn btn-primary">شروع ارزیابی جدید</a>
            </div>
        </div>
    </div>
</div>